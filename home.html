<script src="/uv/uv.bundle.js" defer></script>
<script src="/uv/uv.config.js" defer></script>
<script src="/register-sw.js" defer></script>
<script src="/search.js" defer></script>
<script src="/error.js" defer></script>

<form class="searchform" id="searchform">
  <input id="searchbar" placeholder="Search the web freely">
</form>
<b>
<div id="title"><h1>Shadow</h1></div>
</b>
<script>
  var searchbar=document.getElementById("searchbar");
  var searchform=document.getElementById("searchform");

  var fontsize=2560/screen.width*17.5;
  document.getElementById("title").style.fontSize=fontsize+"px";
  
  searchform.addEventListener("submit", async (event) => {
    event.preventDefault();
    try {
      await registerSW();
    } catch (err) {
      alert(err.toString());
      throw err;
    }
    const url = search(searchbar.value, "https://www.google.com/search?q=%s");
    window.location.href = __uv$config.prefix + __uv$config.encodeUrl(url);
  });
</script>
<style>
  #title{
    width:100%;
    position:absolute;
    bottom:60%;
    left:0px;
    text-align:center;
    color:black;
    text-shadow: 3px 6px 2px #c4c4c4;
  }
  
  #searchbar{
    width: 70%;
    position: absolute;
    bottom: 45%;
    left: 15%;
    padding:3px;
    border-radius: 25px;
    background: transparent;
    border: 2px solid black;
    text-align: center;
    text-shadow: 3px 6px 2px #c4c4c4;
    box-shadow: 3px 6px 2px #c4c4c4;
    color:black;
  }
  #searchbar::placeholder{
    color:black;
    text-shadow: 3px 6px 2px #c4c4c4;
  }
  body{
    background:#919191;
  }
</style>
